---
/**
 * FAQ Component
 * Affiche des questions/réponses avec Schema FAQPage
 * ESSENTIEL pour le référencement GEO - Les LLMs extraient facilement ce format
 */

interface FAQItem {
  question: string;
  answer: string;
}

interface Props {
  items: FAQItem[];
  title?: string;
}

const { items, title } = Astro.props;

// Génération du schema FAQPage
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": items.map((item) => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};
---

<section class="faq-section">
  {title && <h2>{title}</h2>}
  
  <div class="faq-list">
    {items.map((item, index) => (
      <div class="faq-item" id={`faq-${index}`}>
        <h3 class="faq-question">{item.question}</h3>
        <div class="faq-answer">
          <p>{item.answer}</p>
        </div>
      </div>
    ))}
  </div>
</section>

<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
