---
/**
 * PAGE ESTIMATION GRATUITE
 * Page de conversion pour les vendeurs
 */
import BaseLayout from '@layouts/BaseLayout.astro';
import Breadcrumbs from '@components/Breadcrumbs.astro';
import FAQ from '@components/FAQ.astro';

const pageTitle = "Estimation Gratuite Appartement Lyon 2ème : Estimez votre Bien";
const pageDescription = "Estimez gratuitement la valeur de votre appartement à Lyon 2ème arrondissement. Estimation précise basée sur les transactions récentes et notre expertise locale. Réponse sous 48h.";

const breadcrumbs = [
  { label: 'Accueil', href: '/' },
  { label: 'Vendre', href: '/vendre/' },
  { label: 'Estimation gratuite' }
];

const faqEstimation = [
  {
    question: "Comment se déroule l'estimation gratuite ?",
    answer: "L'estimation se déroule en 3 étapes : 1) Vous remplissez le formulaire avec les informations sur votre bien, 2) Nous vous recontactons sous 24h pour convenir d'un rendez-vous de visite, 3) Après la visite (30-45 min), nous vous remettons un rapport d'estimation détaillé avec notre recommandation de prix. L'ensemble est gratuit et sans engagement."
  },
  {
    question: "Sur quels critères est basée l'estimation ?",
    answer: "Notre estimation prend en compte : l'emplacement précis (quartier, rue, orientation, étage, vue), la surface et l'agencement, l'état général et les travaux à prévoir, les prestations (parking, cave, balcon), le DPE, l'état de la copropriété, et surtout les transactions récentes comparables dans le secteur. Notre connaissance du terrain fait la différence."
  },
  {
    question: "Pourquoi l'estimation est-elle gratuite ?",
    answer: "L'estimation gratuite nous permet de vous rencontrer et de vous démontrer notre expertise. Si vous décidez de nous confier la vente, nous serons rémunérés par les honoraires d'agence. Si vous ne vendez pas ou choisissez un autre professionnel, l'estimation reste gratuite. C'est notre façon de créer une relation de confiance."
  }
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <Breadcrumbs items={breadcrumbs} />
  
  <article>
    <header class="section">
      <h1>Estimation Gratuite de votre Bien à Lyon 2ème</h1>
      <p>
        Obtenez une estimation précise de la valeur de votre appartement ou maison 
        dans le 2ème arrondissement de Lyon. <strong>Gratuit, sans engagement, réponse sous 48h.</strong>
      </p>
    </header>
    
    <div class="estimation-layout">
      <!-- FORMULAIRE -->
      <section class="estimation-form">
        <h2>Décrivez votre bien</h2>
        
        <form action="/api/estimation" method="POST">
          <fieldset>
            <legend>Informations sur le bien</legend>
            
            <div class="form-group">
              <label class="form-label" for="type-bien">Type de bien *</label>
              <select id="type-bien" name="typeBien" class="form-select" required>
                <option value="">Sélectionnez</option>
                <option value="appartement">Appartement</option>
                <option value="maison">Maison</option>
                <option value="local">Local commercial</option>
              </select>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="surface">Surface (m²) *</label>
                <input type="number" id="surface" name="surface" class="form-input" required min="1" />
              </div>
              
              <div class="form-group">
                <label class="form-label" for="pieces">Nombre de pièces *</label>
                <select id="pieces" name="pieces" class="form-select" required>
                  <option value="">Sélectionnez</option>
                  <option value="1">1 pièce (studio)</option>
                  <option value="2">2 pièces</option>
                  <option value="3">3 pièces</option>
                  <option value="4">4 pièces</option>
                  <option value="5">5 pièces et +</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="quartier">Quartier *</label>
              <select id="quartier" name="quartier" class="form-select" required>
                <option value="">Sélectionnez</option>
                <option value="bellecour">Bellecour</option>
                <option value="ainay">Ainay</option>
                <option value="confluence">Confluence</option>
                <option value="perrache">Perrache</option>
                <option value="presquile">Presqu'île Centre</option>
                <option value="cordeliers">Cordeliers</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="adresse">Adresse complète *</label>
              <input type="text" id="adresse" name="adresse" class="form-input" placeholder="Numéro et nom de rue" required />
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="etage">Étage</label>
                <select id="etage" name="etage" class="form-select">
                  <option value="">Sélectionnez</option>
                  <option value="rdc">RDC</option>
                  <option value="1">1er</option>
                  <option value="2">2ème</option>
                  <option value="3">3ème</option>
                  <option value="4">4ème</option>
                  <option value="5">5ème et +</option>
                  <option value="dernier">Dernier étage</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="ascenseur">Ascenseur</label>
                <select id="ascenseur" name="ascenseur" class="form-select">
                  <option value="">Sélectionnez</option>
                  <option value="oui">Oui</option>
                  <option value="non">Non</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Prestations</label>
              <div class="checkbox-group">
                <label><input type="checkbox" name="prestations" value="balcon" /> Balcon/Terrasse</label>
                <label><input type="checkbox" name="prestations" value="parking" /> Parking</label>
                <label><input type="checkbox" name="prestations" value="cave" /> Cave</label>
                <label><input type="checkbox" name="prestations" value="gardien" /> Gardien</label>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="etat">État général</label>
              <select id="etat" name="etat" class="form-select">
                <option value="">Sélectionnez</option>
                <option value="neuf">Neuf / Récent</option>
                <option value="renove">Rénové</option>
                <option value="bon">Bon état</option>
                <option value="travaux">Travaux à prévoir</option>
                <option value="renover">À rénover entièrement</option>
              </select>
            </div>
          </fieldset>
          
          <fieldset>
            <legend>Vos coordonnées</legend>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="nom">Nom *</label>
                <input type="text" id="nom" name="nom" class="form-input" required />
              </div>
              
              <div class="form-group">
                <label class="form-label" for="prenom">Prénom *</label>
                <input type="text" id="prenom" name="prenom" class="form-input" required />
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="email">Email *</label>
              <input type="email" id="email" name="email" class="form-input" required />
            </div>
            
            <div class="form-group">
              <label class="form-label" for="telephone">Téléphone *</label>
              <input type="tel" id="telephone" name="telephone" class="form-input" required />
            </div>
            
            <div class="form-group">
              <label class="form-label" for="projet">Votre projet</label>
              <select id="projet" name="projet" class="form-select">
                <option value="">Sélectionnez</option>
                <option value="vente-3mois">Vendre dans les 3 mois</option>
                <option value="vente-6mois">Vendre dans les 6 mois</option>
                <option value="vente-1an">Vendre dans l'année</option>
                <option value="simple-estimation">Simple estimation</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="commentaire">Commentaire (optionnel)</label>
              <textarea id="commentaire" name="commentaire" class="form-textarea" rows="3" placeholder="Informations complémentaires sur votre bien ou votre projet..."></textarea>
            </div>
          </fieldset>
          
          <div class="form-group">
            <label class="form-checkbox">
              <input type="checkbox" name="rgpd" required />
              <span class="text-small">
                J'accepte que mes données soient traitées pour répondre à ma demande d'estimation. 
                <a href="/politique-confidentialite/">En savoir plus</a>
              </span>
            </label>
          </div>
          
          <button type="submit" class="btn btn--primary btn--large">Demander mon estimation gratuite</button>
        </form>
      </section>
      
      <!-- SIDEBAR -->
      <aside class="estimation-sidebar">
        <div class="sidebar-box">
          <h3>Pourquoi nous faire confiance ?</h3>
          <ul>
            <li>✓ Spécialistes exclusifs du 2ème arrondissement</li>
            <li>✓ Connaissance précise de chaque quartier</li>
            <li>✓ Estimation basée sur les ventes réelles</li>
            <li>✓ Rapport détaillé sous 48h</li>
            <li>✓ Gratuit et sans engagement</li>
          </ul>
        </div>
        
        <div class="sidebar-box">
          <h3>Ils nous ont fait confiance</h3>
          <blockquote>
            "Estimation précise et réaliste. L'appartement s'est vendu en 3 semaines au prix annoncé."
            <footer>— Marie D., Ainay</footer>
          </blockquote>
          <blockquote>
            "Très professionnel, connaissance parfaite du quartier Bellecour."
            <footer>— Pierre L., Bellecour</footer>
          </blockquote>
        </div>
        
        <div class="sidebar-box">
          <h3>Une question ?</h3>
          <p>Appelez-nous directement :</p>
          <p class="phone-number">[Téléphone]</p>
          <p class="text-small text-muted">Du lundi au samedi, 9h-19h</p>
        </div>
      </aside>
    </div>
    
    <!-- FAQ -->
    <section class="section">
      <FAQ items={faqEstimation} title="Questions sur l'estimation" />
    </section>
  </article>
</BaseLayout>

<style>
  .estimation-layout {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-2xl);
    margin-bottom: var(--space-2xl);
  }
  
  @media (max-width: 900px) {
    .estimation-layout {
      grid-template-columns: 1fr;
    }
  }
  
  fieldset {
    border: 1px solid var(--color-border);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
  }
  
  legend {
    font-weight: bold;
    padding: 0 var(--space-sm);
  }
  
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-md);
  }
  
  .checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
  }
  
  .checkbox-group label {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    cursor: pointer;
  }
  
  .form-checkbox {
    display: flex;
    gap: var(--space-sm);
    align-items: flex-start;
    cursor: pointer;
  }
  
  .btn--large {
    width: 100%;
    padding: var(--space-md) var(--space-lg);
    font-size: 1.1rem;
  }
  
  .sidebar-box {
    background: var(--color-bg-alt);
    border: 1px solid var(--color-border);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
  }
  
  .sidebar-box h3 {
    margin-bottom: var(--space-md);
  }
  
  .sidebar-box ul {
    list-style: none;
    padding: 0;
  }
  
  .sidebar-box li {
    padding: var(--space-xs) 0;
  }
  
  blockquote {
    border-left: 3px solid var(--color-border);
    padding-left: var(--space-md);
    margin: var(--space-md) 0;
    font-style: italic;
  }
  
  blockquote footer {
    font-style: normal;
    font-size: 0.875rem;
    color: var(--color-text-muted);
  }
  
  .phone-number {
    font-size: 1.25rem;
    font-weight: bold;
  }
</style>
